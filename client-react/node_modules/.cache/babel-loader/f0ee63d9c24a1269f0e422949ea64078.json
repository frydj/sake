{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Derek\\\\Documents\\\\GitHub\\\\sake\\\\client-react\\\\src\\\\components\\\\orders\\\\NewOrder.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport $ from 'jquery';\n\nclass NewOrder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.hideResults = () => {\n      this.setState({\n        \"searchResults\": \"hidden\"\n      });\n    };\n\n    this.showResults = () => {\n      this.setState({\n        \"searchResults\": \"show\"\n      });\n    };\n\n    this.selectContents = e => {\n      e.target.select();\n    };\n\n    this.searchThis = () => {\n      this.validateCustomer();\n\n      if (this.searchInput.current.value === '') {\n        this.hideResults();\n        this.customerid.current.value = '';\n        this.validateCustomer();\n      } else {\n        this.showResults();\n        let url = \"/customersearchinput\";\n        axios.post(url, {\n          search: this.searchInput.current.value\n        }).then(response => {\n          this.getSearchData();\n        });\n        this.validateCustomer();\n        this.customerid.current.value = '';\n      }\n    };\n\n    this.searchResultsResetClasses = () => {\n      for (var i = 0; i < document.getElementById(\"searchResults\").childNodes.length; i++) {\n        document.getElementById(\"searchResults\").childNodes[i].className = \"customerSearchResult\";\n      }\n    };\n\n    this.checkKey = e => {\n      $('input').bind('keydown', function (e) {\n        if (e.keyCode === 38 || e.keyCode === 40) {\n          e.preventDefault();\n        }\n      });\n      var limitHigh = document.getElementById(\"searchResults\").childElementCount;\n      var limitLow = 0;\n      var myCount = this.state.downCount;\n\n      if (myCount < limitLow) {\n        myCount = -1;\n      }\n\n      if (myCount >= limitHigh) {\n        myCount = limitHigh;\n      } // 65-90 are a-z ;; space is 32 ;; 48-57 are numbers ;;  189 is hypen\n\n\n      if (myCount <= limitHigh - 1 && myCount >= limitLow && limitHigh > 0) {\n        document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";\n      }\n\n      if (e.keyCode === 40) {\n        // down arrow\n        myCount = myCount + 1;\n\n        if (myCount <= limitLow) {\n          myCount = 0;\n        }\n\n        if (myCount >= limitHigh - 1) {\n          myCount = limitHigh - 1;\n        }\n\n        if (myCount > limitLow) {\n          document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount < limitHigh - 1) {\n          document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\n          document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";\n        }\n\n        this.setState({\n          downCount: myCount\n        });\n      } else if (e.keyCode === 38) {\n        // up arrow\n        myCount = myCount - 1;\n\n        if (myCount <= limitLow) {\n          myCount = 0;\n        }\n\n        if (myCount >= limitHigh) {\n          myCount = limitHigh;\n        }\n\n        if (myCount !== limitLow) {\n          document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount < limitHigh - 1) {\n          document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\n          document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";\n        }\n\n        this.setState({\n          downCount: myCount\n        });\n      } else if (e.keyCode === 13) {\n        // enter\n        if (myCount < limitLow) {\n          myCount = 0;\n        }\n\n        if (myCount >= limitHigh) {\n          myCount = limitHigh - 1;\n        }\n\n        document.getElementById(\"searchResults\").childNodes[myCount].click();\n      }\n    };\n\n    this.getSearchData = () => {\n      let url = \"/customersearch\";\n      axios.get(url).then(response => this.setState({\n        query: response.data\n      }));\n    };\n\n    this.enter = e => {\n      this.searchInput.current.value = e.target.innerHTML;\n      this.customerid.current.value = e.target.id;\n      this.validateCustomer();\n      this.hideResults();\n    };\n\n    this.addOrder = () => {\n      let url = \"/order\";\n      axios.post(url, {\n        customerid: this.customerid.current.value,\n        serviceDate: this.serviceDate.current.value,\n        service: this.service.current.value,\n        cu: this.cu.current.value,\n        pw: this.pw.current.value,\n        r: this.r.current.value,\n        lr: this.lr.current.value,\n        misc: this.misc.current.value,\n        notes: this.notes.current.value\n      }).then(response => {\n        this.props.history.push('/orders');\n      });\n    };\n\n    this.validateForm = () => {\n      this.validateCustomer();\n      this.validateServiceDate();\n      this.validateService();\n      let customerid = document.getElementById(\"customerid\");\n      let serviceDate = document.getElementById(\"serviceDate\");\n      let service = document.getElementById(\"service\");\n\n      if (customerid.value === \"\" || serviceDate.value === \"\" || service.value === \"\") {} else {\n        this.addOrder();\n      }\n    };\n\n    this.validateCustomer = () => {\n      let customerid = document.getElementById(\"customerid\");\n      let searchInput = document.getElementById(\"searchInput\");\n      let customeridErr = document.getElementById(\"customerErr\");\n\n      if (customerid.value === \"\") {\n        customeridErr.className = \"errorMessage\";\n        searchInput.className = \"formValidate\";\n      } else {\n        customeridErr.className = \"errorMessage hidden\";\n        searchInput.className = \"\";\n      }\n    };\n\n    this.validateServiceDate = () => {\n      let serviceDate = document.getElementById(\"serviceDate\");\n      let serviceDateErr = document.getElementById(\"serviceDateErr\");\n\n      if (serviceDate.value === \"\") {\n        serviceDateErr.className = \"errorMessage\";\n        serviceDate.className = \"formValidate\";\n      } else {\n        serviceDateErr.className = \"errorMessage hidden\";\n        serviceDate.className = \"\";\n      }\n    };\n\n    this.validateService = () => {\n      let service = document.getElementById(\"service\");\n      let serviceErr = document.getElementById(\"serviceErr\");\n\n      if (service.value === \"\") {\n        serviceErr.className = \"errorMessage\";\n        service.className = \"formValidate\";\n      } else {\n        serviceErr.className = \"errorMessage hidden\";\n        service.className = \"\";\n      }\n    };\n\n    this.state = {\n      orders: [],\n      query: [],\n      searchResults: \"hidden\",\n      dataAvailable: \"noData\",\n      downCount: -1\n    };\n    this.newOrder = React.createRef();\n    this.orderid = React.createRef();\n    this.customerid = React.createRef();\n    this.serviceDate = React.createRef();\n    this.service = React.createRef();\n    this.cu = React.createRef();\n    this.pw = React.createRef();\n    this.r = React.createRef();\n    this.lr = React.createRef();\n    this.misc = React.createRef();\n    this.notes = React.createRef(); // search\n\n    this.returnedQuery = React.createRef();\n    this.searchResults = React.createRef();\n    this.searchResult = React.createRef();\n    this.searchInput = React.createRef(); // bound functions\n\n    this.enter = this.enter.bind(this);\n    this.selectContents = this.selectContents.bind(this);\n    this.checkKey = this.checkKey.bind(this);\n  }\n\n  componentDidMount() {\n    this.getSearchData();\n  }\n\n  getInitialState() {\n    return {\n      searchResults: \"hidden\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.newOrder,\n      className: \"customer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }\n    }, \"New Order\"), /*#__PURE__*/React.createElement(\"form\", {\n      action: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formSubHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 17\n      }\n    }, \"APPOINTMENT:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveFormContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"customerErr\",\n      className: \"errorMessage hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, \"Please choose a valid customer.\"), /*#__PURE__*/React.createElement(\"input\", {\n      autoFocus: true,\n      onKeyDown: this.checkKey,\n      onChange: this.searchThis,\n      onFocus: this.selectContents,\n      type: \"text\",\n      ref: this.searchInput,\n      name: \"searchInput\",\n      id: \"searchInput\",\n      placeholder: \"Type to Search...\",\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"searchInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }\n    }, \"Customer\"), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.searchResults,\n      className: this.state.searchResults,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onMouseOver: this.searchResultsResetClasses,\n      id: \"searchResults\",\n      className: \"searchResults\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 17\n      }\n    }, this.state.query.map(p => /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.searchResult,\n      className: \"customerSearchResult\",\n      key: p.customerid,\n      id: p.customerid,\n      onClick: this.enter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 25\n      }\n    }, p.returnedQuery))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      ref: this.customerid,\n      name: \"customerid\",\n      id: \"customerid\",\n      placeholder: \"1\",\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"customerid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 21\n      }\n    }, \"Customer ID\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"serviceDateErr\",\n      className: \"errorMessage hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }\n    }, \"Please choose a service date.\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.validateServiceDate,\n      type: \"date\",\n      ref: this.serviceDate,\n      name: \"serviceDate\",\n      id: \"serviceDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"serviceDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 21\n      }\n    }, \"Service Date\")))), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formSubHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 21\n      }\n    }, \"SERVICES RENDERED:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"servicesOuterContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"servicesContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      ref: this.productSearch,\n      name: \"productSearch\",\n      id: \"productSearch\",\n      placeholder: \"Mow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"productSearch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291,\n        columnNumber: 21\n      }\n    }, \"Search...\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveFormContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"serviceErr\",\n      className: \"errorMessage hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 21\n      }\n    }, \"Please select a service.\"), /*#__PURE__*/React.createElement(\"select\", {\n      onChange: this.validateService,\n      defaultValue: \"\",\n      ref: this.service,\n      name: \"service\",\n      id: \"service\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"\",\n      disabled: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 21\n      }\n    }, \"Select...\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"MT\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 21\n      }\n    }, \"Mow/Trim\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"MTF\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, \"Mow/Trim (Front Yard)\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"MTB\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 21\n      }\n    }, \"Mow/Trim (Back Yard)\")), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"service\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 21\n      }\n    }, \"Service\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      ref: this.cu,\n      name: \"cu\",\n      id: \"cu\",\n      placeholder: \"00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"cu\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 21\n      }\n    }, \"Clean Up\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      ref: this.pw,\n      name: \"pw\",\n      id: \"pw\",\n      placeholder: \"00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"pw\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 21\n      }\n    }, \"Pull Weeds\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      ref: this.r,\n      name: \"r\",\n      id: \"r\",\n      placeholder: \"00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"r\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 21\n      }\n    }, \"Rake\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      ref: this.lr,\n      name: \"lr\",\n      id: \"lr\",\n      placeholder: \"00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"lr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 21\n      }\n    }, \"Leaf Removal\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      ref: this.misc,\n      name: \"misc\",\n      id: \"misc\",\n      placeholder: \"00\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"misc\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 21\n      }\n    }, \"Misc. Labor\")))), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formSubHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 21\n      }\n    }, \"NOTES:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fieldFull\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      rows: \"5\",\n      ref: this.notes,\n      name: \"notes\",\n      id: \"notes\",\n      placeholder: \"Enter a note...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"responsiveButton\",\n      type: \"button\",\n      onClick: this.validateForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 21\n      }\n    }, \"Save Order\")));\n  }\n\n}\n\nexport default NewOrder;","map":{"version":3,"sources":["C:/Users/Derek/Documents/GitHub/sake/client-react/src/components/orders/NewOrder.js"],"names":["React","axios","$","NewOrder","Component","constructor","props","hideResults","setState","showResults","selectContents","e","target","select","searchThis","validateCustomer","searchInput","current","value","customerid","url","post","search","then","response","getSearchData","searchResultsResetClasses","i","document","getElementById","childNodes","length","className","checkKey","bind","keyCode","preventDefault","limitHigh","childElementCount","limitLow","myCount","state","downCount","click","get","query","data","enter","innerHTML","id","addOrder","serviceDate","service","cu","pw","r","lr","misc","notes","history","push","validateForm","validateServiceDate","validateService","customeridErr","serviceDateErr","serviceErr","orders","searchResults","dataAvailable","newOrder","createRef","orderid","returnedQuery","searchResult","componentDidMount","getInitialState","render","map","p","productSearch"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport $ from 'jquery'; \r\n\r\nclass NewOrder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            orders: [],\r\n            query: [],\r\n            searchResults: \"hidden\",\r\n            dataAvailable: \"noData\",\r\n            downCount: -1\r\n        };\r\n        this.newOrder = React.createRef();\r\n        this.orderid = React.createRef();\r\n        this.customerid = React.createRef();\r\n        this.serviceDate = React.createRef();\r\n        this.service = React.createRef();\r\n        this.cu = React.createRef();\r\n        this.pw = React.createRef();\r\n        this.r = React.createRef();\r\n        this.lr = React.createRef();\r\n        this.misc = React.createRef();\r\n        this.notes = React.createRef();\r\n        \r\n        // search\r\n        this.returnedQuery = React.createRef();       \r\n        this.searchResults = React.createRef();       \r\n        this.searchResult = React.createRef();       \r\n        this.searchInput = React.createRef();\r\n        \r\n        // bound functions\r\n        this.enter = this.enter.bind(this);\r\n        this.selectContents = this.selectContents.bind(this);\r\n        this.checkKey = this.checkKey.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.getSearchData();\r\n    }\r\n    \r\n    getInitialState(){\r\n        return {searchResults:\"hidden\"};\r\n    };\r\n    \r\n    hideResults = () => {\r\n        this.setState({\"searchResults\":\"hidden\"});\r\n    }\r\n    \r\n    showResults = () => {\r\n        this.setState({\"searchResults\":\"show\"});\r\n    }\r\n    \r\n    selectContents = (e) => {\r\n        e.target.select();\r\n    }\r\n    \r\n    searchThis = () => {\r\n        this.validateCustomer();\r\n        if(this.searchInput.current.value === '') {\r\n            this.hideResults();\r\n            this.customerid.current.value = '';\r\n            this.validateCustomer();\r\n        } else {\r\n            this.showResults();\r\n            let url = \"/customersearchinput\";\r\n            axios.post(url, { \r\n                search: this.searchInput.current.value,            \r\n            }).then(response => {\r\n                this.getSearchData();\r\n            });\r\n            this.validateCustomer();\r\n            this.customerid.current.value = '';\r\n        }\r\n    };\r\n    \r\n    searchResultsResetClasses = () => {\r\n        for(var i = 0; i < document.getElementById(\"searchResults\").childNodes.length; i++) {\r\n            document.getElementById(\"searchResults\").childNodes[i].className = \"customerSearchResult\";           \r\n        }\r\n    }\r\n    \r\n    checkKey = (e) => {\r\n        $('input').bind('keydown', function(e){\r\n            if(e.keyCode === 38 || e.keyCode === 40){\r\n                e.preventDefault();\r\n            }\r\n        });\r\n        var limitHigh = document.getElementById(\"searchResults\").childElementCount;\r\n        var limitLow = 0;\r\n        var myCount = this.state.downCount;\r\n        if(myCount < limitLow) {\r\n            myCount = -1;\r\n        } \r\n        if(myCount >= limitHigh) {\r\n            myCount = limitHigh;\r\n        } \r\n        // 65-90 are a-z ;; space is 32 ;; 48-57 are numbers ;;  189 is hypen\r\n        if(myCount <= limitHigh - 1 && myCount >= limitLow && limitHigh > 0) {\r\n            document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";           \r\n        }\r\n        if (e.keyCode === 40) {\r\n            // down arrow\r\n            myCount = myCount + 1;\r\n            if(myCount <= limitLow) {\r\n                myCount = 0;\r\n            } \r\n            if(myCount >= limitHigh - 1) {\r\n                myCount = limitHigh - 1;\r\n            } \r\n            if(myCount > limitLow) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount < limitHigh - 1) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";           \r\n            }       \r\n            this.setState({\r\n                downCount: myCount\r\n            })\r\n        } else if (e.keyCode === 38) {\r\n            // up arrow\r\n            myCount = myCount - 1;\r\n            if(myCount <= limitLow) {\r\n                myCount = 0;\r\n            } \r\n            if(myCount >= limitHigh) {\r\n                myCount = limitHigh;\r\n            } \r\n            if(myCount !== limitLow) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount < limitHigh - 1) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";           \r\n            }\r\n            this.setState({\r\n                downCount: myCount\r\n            })       \r\n        } else if (e.keyCode === 13) {\r\n            // enter\r\n            if(myCount < limitLow) {\r\n                myCount = 0;\r\n            } \r\n            if(myCount >= limitHigh) {\r\n                myCount = limitHigh - 1;\r\n            } \r\n            document.getElementById(\"searchResults\").childNodes[myCount].click();           \r\n        }\r\n    }\r\n    \r\n    getSearchData = () => {\r\n        let url = \"/customersearch\";\r\n        axios.get(url).then(response => this.setState({ query: response.data }));\r\n    };\r\n    \r\n    enter = (e) => {\r\n        this.searchInput.current.value = e.target.innerHTML;\r\n        this.customerid.current.value = e.target.id;\r\n        this.validateCustomer();\r\n        this.hideResults();\r\n    };\r\n    \r\n    addOrder = () => {\r\n        let url = \"/order\";\r\n        axios.post(url, { \r\n            customerid: this.customerid.current.value,\r\n            serviceDate: this.serviceDate.current.value,\r\n            service: this.service.current.value,\r\n            cu: this.cu.current.value,\r\n            pw: this.pw.current.value,\r\n            r: this.r.current.value,\r\n            lr: this.lr.current.value,\r\n            misc: this.misc.current.value,\r\n            notes: this.notes.current.value,     \r\n        }).then(response => {            \r\n            this.props.history.push('/orders');\r\n        });\r\n    };\r\n    \r\n    validateForm = () => {\r\n        this.validateCustomer();\r\n        this.validateServiceDate();\r\n        this.validateService();\r\n        let customerid = document.getElementById(\"customerid\");\r\n        let serviceDate = document.getElementById(\"serviceDate\");\r\n        let service = document.getElementById(\"service\");\r\n        if(\r\n            customerid.value === \"\" ||\r\n            serviceDate.value === \"\" ||\r\n            service.value === \"\"\r\n            ) {} else {\r\n                this.addOrder();\r\n            }            \r\n        }\r\n        \r\n        validateCustomer = () => {\r\n            let customerid = document.getElementById(\"customerid\");\r\n            let searchInput = document.getElementById(\"searchInput\");\r\n            let customeridErr = document.getElementById(\"customerErr\");\r\n            if(customerid.value === \"\") {\r\n                customeridErr.className = \"errorMessage\";\r\n                searchInput.className = \"formValidate\";\r\n            } else {\r\n                customeridErr.className = \"errorMessage hidden\";\r\n                searchInput.className = \"\";\r\n            }\r\n        }\r\n        \r\n        validateServiceDate = () => {\r\n            let serviceDate = document.getElementById(\"serviceDate\");\r\n            let serviceDateErr = document.getElementById(\"serviceDateErr\");\r\n            if(serviceDate.value === \"\") {\r\n                serviceDateErr.className = \"errorMessage\";\r\n                serviceDate.className = \"formValidate\";\r\n            } else {\r\n                serviceDateErr.className = \"errorMessage hidden\";\r\n                serviceDate.className = \"\";\r\n            }\r\n        }\r\n        \r\n        validateService = () => {\r\n            let service = document.getElementById(\"service\");\r\n            let serviceErr = document.getElementById(\"serviceErr\");\r\n            if(service.value === \"\") {\r\n                serviceErr.className = \"errorMessage\";\r\n                service.className = \"formValidate\";\r\n            } else {\r\n                serviceErr.className = \"errorMessage hidden\";\r\n                service.className = \"\";\r\n            }\r\n        }\r\n        \r\n        render() {\r\n            return (\r\n                <div ref={this.newOrder} className=\"customer\">\r\n                <h3>New Order</h3>\r\n                \r\n                <form action=\"\">\r\n                \r\n                <h4 className=\"formSubHeader\">APPOINTMENT:</h4>\r\n                \r\n                <div className=\"responsiveFormContainer\">\r\n                <div className=\"responsiveForm\">\r\n                \r\n                <div className=\"field\">\r\n                <div id=\"customerErr\" className=\"errorMessage hidden\">Please choose a valid customer.</div>\r\n                <input autoFocus onKeyDown={this.checkKey} onChange={this.searchThis} onFocus={this.selectContents} type=\"text\" ref={this.searchInput} name=\"searchInput\" id=\"searchInput\" placeholder=\"Type to Search...\" autoComplete=\"off\" />\r\n                <label htmlFor=\"searchInput\">Customer</label>\r\n                \r\n                <div ref={this.searchResults} className={this.state.searchResults}>\r\n                <div onMouseOver={this.searchResultsResetClasses} id=\"searchResults\" className=\"searchResults\">\r\n                {this.state.query.map(\r\n                    p => (\r\n                        <div ref={this.searchResult} className=\"customerSearchResult\" key={p.customerid} id={p.customerid} onClick={this.enter} >{p.returnedQuery}\r\n                        </div>\r\n                        ))\r\n                    }\r\n                    </div>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    \r\n                    <div className=\"field hidden\">\r\n                    <input type=\"number\" ref={this.customerid} name=\"customerid\" id=\"customerid\" placeholder=\"1\" autoComplete=\"off\" />\r\n                    <label htmlFor=\"customerid\">Customer ID</label>\r\n                    </div>                  \r\n                    \r\n                    <div className=\"field\">\r\n                    <div id=\"serviceDateErr\" className=\"errorMessage hidden\">Please choose a service date.</div>\r\n                    <input onChange={this.validateServiceDate} type=\"date\" ref={this.serviceDate} name=\"serviceDate\" id=\"serviceDate\" />\r\n                    <label htmlFor=\"serviceDate\">Service Date</label>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    </div>\r\n                    \r\n                    <h4 className=\"formSubHeader\">SERVICES RENDERED:</h4>\r\n                    \r\n                    <div className=\"servicesOuterContainer\">\r\n                    <div className=\"servicesContainer\">\r\n\r\n\r\n                    <div className=\"field\">\r\n                    <input type=\"text\" ref={this.productSearch} name=\"productSearch\" id=\"productSearch\" placeholder=\"Mow\" />\r\n                    <label htmlFor=\"productSearch\">Search...</label>\r\n                    </div>\r\n\r\n                    </div>\r\n                    </div>\r\n\r\n                    <div className=\"responsiveFormContainer\">\r\n                    <div className=\"responsiveForm\">\r\n                    \r\n                    <div className=\"field\">\r\n                    <div id=\"serviceErr\" className=\"errorMessage hidden\">Please select a service.</div>\r\n                    <select onChange={this.validateService} defaultValue=\"\" ref={this.service} name=\"service\" id=\"service\" >\r\n                    <option value=\"\" disabled>Select...</option>\r\n                    <option value=\"MT\">Mow/Trim</option>\r\n                    <option value=\"MTF\">Mow/Trim (Front Yard)</option>\r\n                    <option value=\"MTB\">Mow/Trim (Back Yard)</option>\r\n                    </select>\r\n                    <label htmlFor=\"service\">Service</label>\r\n                    </div>\r\n                    \r\n                    \r\n                    <div className=\"field\">\r\n                    <input type=\"number\" ref={this.cu} name=\"cu\" id=\"cu\" placeholder=\"00\" />\r\n                    <label htmlFor=\"cu\">Clean Up</label>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    <div className=\"responsiveForm\">\r\n                    \r\n                    <div className=\"field\">\r\n                    <input type=\"number\" ref={this.pw} name=\"pw\" id=\"pw\" placeholder=\"00\" />\r\n                    <label htmlFor=\"pw\">Pull Weeds</label>\r\n                    </div>\r\n                    \r\n                    <div className=\"field\">\r\n                    <input type=\"number\" ref={this.r} name=\"r\" id=\"r\" placeholder=\"00\" />\r\n                    <label htmlFor=\"r\">Rake</label>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    <div className=\"responsiveForm\">\r\n                    \r\n                    <div className=\"field\">\r\n                    <input type=\"number\" ref={this.lr} name=\"lr\" id=\"lr\" placeholder=\"00\" />\r\n                    <label htmlFor=\"lr\">Leaf Removal</label>\r\n                    </div>\r\n                    \r\n                    <div className=\"field\">\r\n                    <input type=\"number\" ref={this.misc} name=\"misc\" id=\"misc\" placeholder=\"00\" />\r\n                    <label htmlFor=\"misc\">Misc. Labor</label>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    </div>\r\n                    \r\n                    <h4 className=\"formSubHeader\">NOTES:</h4>\r\n                    \r\n                    <div className=\"fieldFull\">\r\n                    <textarea rows=\"5\" ref={this.notes} name=\"notes\" id=\"notes\" placeholder=\"Enter a note...\"></textarea>\r\n                    </div>\r\n                    \r\n                    <button className=\"responsiveButton\"type=\"button\" onClick={this.validateForm}>Save Order</button>\r\n                    \r\n                    </form>\r\n                    </div>\r\n                    );\r\n                }\r\n            }\r\n            \r\n            export default NewOrder;\r\n            "]},"metadata":{},"sourceType":"module"}