{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Derek\\\\Documents\\\\GitHub\\\\sake\\\\client-react\\\\src\\\\components\\\\orders\\\\NewOrder2.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport $ from 'jquery';\nimport Modal from \"../app/Modal\";\n\nclass NewOrder extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.hideResults = () => {\n      this.setState({\n        \"searchResults\": \"hidden\"\n      });\n    };\n\n    this.showResults = () => {\n      this.setState({\n        \"searchResults\": \"show\"\n      });\n    };\n\n    this.selectContents = e => {\n      e.target.select();\n    };\n\n    this.showHideModal = e => {\n      if (global.showHideModal === true) {\n        global.showHideModal = false;\n      } else if (global.showHideModal === false) {\n        global.showHideModal = true;\n      }\n\n      let product = {\n        product_id: e.target.dataset.product_id,\n        title: e.target.dataset.title,\n        sku: e.target.dataset.sku,\n        price: e.target.dataset.price,\n        unit_type: e.target.dataset.unit_type.toUpperCase(),\n        qty: e.target.dataset.qty,\n        clerk_message: e.target.dataset.clerk_message,\n        prompt_price: e.target.dataset.prompt_price,\n        prompt_quantity: e.target.dataset.prompt_quantity,\n        stock_level: e.target.dataset.stock_level,\n        surcharge: e.target.dataset.surcharge,\n        surcharge_bool: e.target.dataset.surcharge_bool,\n        surcharge_unique: e.target.dataset.surcharge_unique,\n        track_stock: e.target.dataset.track_stock,\n        out_of_stock: e.target.dataset.out_of_stock,\n        line_item_total: e.target.dataset.price * e.target.dataset.qty\n      };\n      this.setState({\n        modal: global.showHideModal\n      }, function () {\n        setTimeout(() => {\n          // console.log(\"1 second passed\")\n          // console.log(\"variable: \" + global.showHideModal);\n          // console.log(\"state: \" + this.state.modal);\n          console.log(product);\n        }, 1000);\n      });\n    };\n\n    this.componentDidMount = () => {\n      global.showHideModal = false;\n      let inputs = document.getElementsByTagName(\"input\");\n\n      for (var i = 0; i < inputs.length; i++) {\n        inputs[i].setAttribute(\"autocomplete\", \"off\");\n      }\n\n      this.posViewType();\n      this.searchProduct();\n      this.getTotals();\n    };\n\n    this.searchThis = () => {\n      this.validateCustomer();\n\n      if (this.searchInput.current.value === '') {\n        this.hideResults();\n        this.customerid.current.value = '';\n        this.validateCustomer();\n      } else {\n        this.showResults();\n        let url = \"/customersearchinput\";\n        axios.post(url, {\n          search: this.searchInput.current.value\n        }).then(response => {\n          this.getSearchData();\n        });\n        this.validateCustomer();\n        this.customerid.current.value = '';\n      }\n    };\n\n    this.searchProduct = () => {\n      let productSearchInputValue = document.getElementById(\"productSearch\");\n      let url = \"/params/666\";\n      axios.put(url, {\n        // session_id: 666,\n        // user: document.getElementById(\"username\").value,\n        // password: document.getElementById(\"password\").value,\n        productSearchInput: productSearchInputValue.value,\n        // logged_in: true,\n        posView: this.state.view\n      });\n      this.getProductSearchData();\n    };\n\n    this.addToCart = event => {\n      this.cartArrows();\n      let inCart = this.state.cart;\n      let cartArray = {\n        product_id: event.target.dataset.product_id,\n        title: event.target.dataset.title,\n        sku: event.target.dataset.sku,\n        price: event.target.dataset.price,\n        unit_type: event.target.dataset.unit_type.toUpperCase(),\n        qty: event.target.dataset.qty,\n        clerk_message: event.target.dataset.clerk_message,\n        prompt_price: event.target.dataset.prompt_price,\n        prompt_quantity: event.target.dataset.prompt_quantity,\n        stock_level: event.target.dataset.stock_level,\n        surcharge: event.target.dataset.surcharge,\n        surcharge_bool: event.target.dataset.surcharge_bool,\n        surcharge_unique: event.target.dataset.surcharge_unique,\n        track_stock: event.target.dataset.track_stock,\n        out_of_stock: event.target.dataset.out_of_stock,\n        line_item_total: event.target.dataset.price * event.target.dataset.qty\n      }; // I don't know how this works :) \n\n      let matches = inCart.filter(function (a) {\n        return a.product_id === cartArray.product_id || a.product_id.substring(0, a.product_id.indexOf(\"-\")) === cartArray.product_id;\n      }).length;\n\n      if (matches < 10) {\n        matches = \"0\" + matches;\n      }\n\n      for (var i = 0; i < inCart.length; i++) {\n        if (inCart[i].product_id === cartArray.product_id) {\n          cartArray.product_id = cartArray.product_id + \"-\" + matches;\n        }\n      }\n\n      inCart.push(cartArray);\n      let wrapper = document.getElementById(\"cartDownwardWrapper\");\n      wrapper.style.opacity = \"0\";\n      this.setState({\n        cart: inCart\n      }, function () {\n        setTimeout(() => {\n          this.getTotals();\n          var objDiv = document.getElementById(\"orderContentsContainer\");\n          objDiv.scrollTop = objDiv.scrollHeight;\n          clearTimeout(global.arrowOpacity);\n          global.arrowOpacity = setTimeout(() => {\n            wrapper.style.opacity = \"1\";\n          }, 500);\n        }, 10);\n        this.emptyCart();\n        this.formatCurrency(\"productListedPriceValue\");\n      });\n    };\n\n    this.getProductSearchData = () => {\n      let url = \"/productsearch\";\n      axios.get(url).then(response => this.setState({\n        productSearch: response.data\n      }));\n    };\n\n    this.posViewType = () => {\n      let url = \"/params/666\";\n      axios.get(url).then(response => this.setState({\n        view: response.data.posView\n      }));\n      setTimeout(() => {\n        this.getProductSearchData();\n\n        if (this.state.view === \"returnedProduct row\") {\n          this.listView();\n        } else if (this.state.view === \"returnedProduct tile\") {\n          this.tileView();\n        }\n\n        if (this.state.view === null || this.state.view === \"initial\") {\n          this.listView();\n        }\n      }, 200);\n    };\n\n    this.searchResultsResetClasses = () => {\n      for (var i = 0; i < document.getElementById(\"searchResults\").childNodes.length; i++) {\n        document.getElementById(\"searchResults\").childNodes[i].className = \"customerSearchResult\";\n      }\n    };\n\n    this.checkKey = e => {\n      $('input').bind('keydown', function (e) {\n        if (e.keyCode === 38 || e.keyCode === 40) {\n          e.preventDefault();\n        }\n      });\n      var limitHigh = document.getElementById(\"searchResults\").childElementCount;\n      var limitLow = 0;\n      var myCount = this.state.downCount;\n\n      if (myCount < limitLow) {\n        myCount = -1;\n      }\n\n      if (myCount >= limitHigh) {\n        myCount = limitHigh;\n      } // 65-90 are a-z ;; space is 32 ;; 48-57 are numbers ;;  189 is hypen\n\n\n      if (myCount <= limitHigh - 1 && myCount >= limitLow && limitHigh > 0) {\n        document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";\n      }\n\n      if (e.keyCode === 40) {\n        // down arrow\n        myCount = myCount + 1;\n\n        if (myCount <= limitLow) {\n          myCount = 0;\n        }\n\n        if (myCount >= limitHigh - 1) {\n          myCount = limitHigh - 1;\n        }\n\n        if (myCount > limitLow) {\n          document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount < limitHigh - 1) {\n          document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\n          document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";\n        }\n\n        this.setState({\n          downCount: myCount\n        });\n      } else if (e.keyCode === 38) {\n        // up arrow\n        myCount = myCount - 1;\n\n        if (myCount <= limitLow) {\n          myCount = 0;\n        }\n\n        if (myCount >= limitHigh) {\n          myCount = limitHigh;\n        }\n\n        if (myCount !== limitLow) {\n          document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount < limitHigh - 1) {\n          document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";\n        }\n\n        if (myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\n          document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";\n        }\n\n        this.setState({\n          downCount: myCount\n        });\n      } else if (e.keyCode === 13) {\n        // enter\n        if (myCount < limitLow) {\n          myCount = 0;\n        }\n\n        if (myCount >= limitHigh) {\n          myCount = limitHigh - 1;\n        }\n\n        document.getElementById(\"searchResults\").childNodes[myCount].click();\n      }\n    };\n\n    this.getSearchData = () => {\n      let url = \"/customersearch\";\n      axios.get(url).then(response => this.setState({\n        query: response.data\n      }));\n    };\n\n    this.enter = e => {\n      this.searchInput.current.value = e.target.innerHTML;\n      this.customerid.current.value = e.target.id;\n      this.validateCustomer();\n      this.hideResults();\n    };\n\n    this.addOrder = () => {\n      // submit ORDER totals/details to ORDERS table\n      // submit each PRODUCT & ORDER ID to the orders products table\n      // then refresh page to begin a new order\n      let url = \"/order\";\n      axios.post(url, {\n        customerid: this.customerid.current.value,\n        serviceDate: this.serviceDate.current.value,\n        service: this.service.current.value,\n        cu: this.cu.current.value,\n        pw: this.pw.current.value,\n        r: this.r.current.value,\n        lr: this.lr.current.value,\n        misc: this.misc.current.value,\n        notes: this.notes.current.value\n      }).then(response => {\n        this.props.history.push('/orders');\n      });\n    };\n\n    this.validateForm = () => {\n      this.validateCustomer();\n      this.validateServiceDate();\n      let customerid = document.getElementById(\"customerid\");\n      let serviceDate = document.getElementById(\"serviceDate\");\n\n      if (customerid.value === \"\" || serviceDate.value === \"\") {} else {\n        this.addOrder();\n      }\n    };\n\n    this.validateCustomer = () => {\n      let customerid = document.getElementById(\"customerid\");\n      let searchInput = document.getElementById(\"searchInput\");\n      let customeridErr = document.getElementById(\"customerErr\");\n\n      if (customerid.value === \"\") {\n        customeridErr.className = \"errorMessage\";\n        searchInput.className = \"formValidate\";\n      } else {\n        customeridErr.className = \"errorMessage hidden\";\n        searchInput.className = \"\";\n      }\n    };\n\n    this.validateServiceDate = () => {\n      let serviceDate = document.getElementById(\"serviceDate\");\n      let serviceDateErr = document.getElementById(\"serviceDateErr\");\n\n      if (serviceDate.value === \"\") {\n        serviceDateErr.className = \"errorMessage\";\n        serviceDate.className = \"formValidate\";\n      } else {\n        serviceDateErr.className = \"errorMessage hidden\";\n        serviceDate.className = \"\";\n      }\n    };\n\n    this.listView = () => {\n      // let productSearchInputValue = document.getElementById(\"productSearch\");\n      let products = document.getElementsByClassName(\"returnedProduct\");\n      let container = document.getElementsByClassName(\"productSearchResultsTile\");\n\n      for (var i = 0; i < products.length; i++) {\n        products[i].className = \"returnedProduct row\";\n      }\n\n      for (var a = 0; a < container.length; a++) {\n        container[a].className = \"productSearchResultsRow\";\n      }\n\n      document.getElementById(\"listView\").className = \"productSearchViewType hidden\";\n      document.getElementById(\"tileView\").className = \"productSearchViewType\";\n      this.setState({\n        view: \"returnedProduct row\"\n      });\n      let url = \"/params/666\";\n      axios.put(url, {\n        // session_id: 666,\n        // user: document.getElementById(\"username\").value,\n        // password: document.getElementById(\"password\").value,\n        // productSearchInput: productSearchInputValue.value,\n        posView: \"returnedProduct row\" // logged_in: true\n\n      });\n    };\n\n    this.tileView = () => {\n      // let productSearchInputValue = document.getElementById(\"productSearch\");\n      let products = document.getElementsByClassName(\"returnedProduct\");\n      let container = document.getElementsByClassName(\"productSearchResultsRow\");\n\n      for (var i = 0; i < products.length; i++) {\n        products[i].className = \"returnedProduct tile\";\n      }\n\n      for (var a = 0; a < container.length; a++) {\n        container[a].className = \"productSearchResultsTile\";\n      }\n\n      document.getElementById(\"tileView\").className = \"productSearchViewType hidden\";\n      document.getElementById(\"listView\").className = \"productSearchViewType\";\n      this.setState({\n        view: \"returnedProduct tile\"\n      });\n      let url = \"/params/666\";\n      axios.put(url, {\n        // session_id: 666,\n        // user: document.getElementById(\"username\").value,\n        // password: document.getElementById(\"password\").value,\n        // productSearchInput: productSearchInputValue.value,\n        posView: \"returnedProduct tile\" // logged_in: true\n\n      });\n    };\n\n    this.gatherTotals = (someClass, someTarget) => {\n      let arr = document.getElementsByClassName(someClass);\n      let subtotal = 0;\n\n      for (var i = 0; i < arr.length; i++) {\n        subtotal += parseInt(arr[i].innerHTML * 100); // console.log(parseInt(totals[i].innerHTML));\n      } // subtotal = subtotal * 100;\n      // console.log(subtotal);\n\n\n      if (subtotal !== 0) {\n        let subtotalLeft = subtotal.toString().substr(0, subtotal.toString().length - 2);\n        let subtotalRight = subtotal.toString().substr(subtotalLeft.length, 2); // console.log(subtotalLeft + \".\" + subtotalRight);\n\n        subtotal = subtotalLeft + \".\" + subtotalRight;\n      } else if (subtotal === 0) {\n        subtotal = \"0.00\";\n      }\n\n      let orderSubtotal = document.getElementById(someTarget);\n      orderSubtotal.innerHTML = subtotal;\n    };\n\n    this.grandTotal = () => {\n      let total = document.getElementById(\"orderTotal\");\n      let subtotal = document.getElementById(\"orderSubtotal\");\n      total.innerHTML = subtotal.innerHTML;\n    };\n\n    this.formatCurrency = someClass => {\n      let arr = document.getElementsByClassName(someClass);\n\n      for (var i = 0; i < arr.length; i++) {\n        arr[i].innerHTML = parseInt(arr[i].innerHTML * 100); // console.log(parseInt(totals[i].innerHTML));\n\n        if (arr[i].innerHTML !== \"0\") {\n          // console.log(\"doesn't equal zero\");\n          let subtotalLeft = arr[i].innerHTML.toString().substr(0, arr[i].innerHTML.toString().length - 2);\n          let subtotalRight = arr[i].innerHTML.toString().substr(subtotalLeft.length, 2); // console.log(subtotalLeft + \".\" + subtotalRight);\n\n          arr[i].innerHTML = subtotalLeft + \".\" + subtotalRight;\n        } else if (arr[i].innerHTML === \"0\") {\n          // console.log(\"DOES equal zero\");\n          arr[i].innerHTML = \"0.00\";\n        }\n      }\n    };\n\n    this.getTotals = () => {\n      this.gatherTotals(\"productListedLineItemTotalValue\", \"orderSubtotal\");\n      this.grandTotal();\n    };\n\n    this.emptyCart = () => {\n      let emptyCart = document.getElementById(\"emptyCart\");\n      let cartCount = this.state.cart.length; // console.log(cartCount);\n\n      if (cartCount === 0) {\n        emptyCart.className = \"\";\n      } else {\n        emptyCart.className = \"hidden\";\n      }\n    };\n\n    this.deleteProduct = event => {\n      // remove this product from the cart array\n      // console.log(this.state.cart);\n      // console.log(event.target.dataset.product_id);\n      let inCart = this.state.cart;\n      let filteredArray = inCart.filter(function (a) {\n        return a.product_id !== event.target.dataset.product_id;\n      });\n      let wrapper = document.getElementById(\"cartDownwardWrapper\");\n      let cartDownward = document.getElementById(\"cartDownward\");\n      this.setState({\n        cart: filteredArray\n      }, function () {\n        setTimeout(() => {\n          this.emptyCart();\n\n          if (cartDownward.style.bottom === \"-66px\") {\n            wrapper.style.opacity = \"0\";\n            setTimeout(() => {\n              wrapper.style.opacity = \"1\"; // console.log(\"my sexy hotdog fingers\")\n            }, 500);\n          }\n        }, 5);\n        this.showHideModal();\n        this.cartArrows();\n      });\n    };\n\n    this.editProduct = event => {// pop modal\n      // populate with product data\n      // then update existing product in cart\n    };\n\n    this.cartArrows = () => {\n      let top = document.getElementsByClassName(\"orderContentsContainer\")[0]; // let container = document.getElementsByClassName(\"orderContentsOuterContainer\")[0];\n\n      let cartUpward = document.getElementById(\"cartUpward\");\n      let cartDownward = document.getElementById(\"cartDownward\");\n\n      if (top.scrollTop > 0) {\n        // arrow appear\n        cartUpward.className = \"\";\n        cartUpward.style.animation = \"cartUpwardIn 0.2s linear\";\n        cartUpward.style.top = \"-33px\";\n      }\n\n      if (top.scrollTop === 0) {\n        // arrow disappear\n        cartUpward.style.animation = \"cartUpwardOut 0.2s linear\";\n        cartUpward.style.top = \"-66px\"; // cartUpward.className = \"hidden\";\n      }\n\n      if (top.scrollTop !== top.scrollHeight) {\n        cartDownward.className = \"\";\n        cartDownward.style.animation = \"cartDownwardIn 0.2s linear\";\n        cartDownward.style.bottom = \"-33px\";\n      }\n\n      if (top.scrollTop >= top.scrollHeight - $(\"#orderContentsContainer\").height()) {\n        // arrow disappear\n        cartDownward.style.animation = \"cartDownwardOut 0.2s linear\";\n        cartDownward.style.bottom = \"-66px\"; // cartUpward.className = \"hidden\";\n      }\n      /* console.log(top.scrollHeight);\r\n      console.log($(\"#orderContentsContainer\").height()); */\n\n\n      if ($(\"#orderContentsContainer\").height() >= top.scrollHeight) {\n        cartUpward.className = \"hidden\";\n        cartDownward.className = \"hidden\";\n        /* console.log(\"no scroll boy\"); */\n      } // console.log(\"top scrollTop: \" + top.scrollTop);\n      // console.log(\"container height: \" + $(\"#orderContentsContainer\").height());\n      // console.log(\"top scrollHeight: \" + top.scrollHeight);\n\n    };\n\n    this.cartArrowUp = () => {\n      // document.getElementsByClassName(\"productListed\")[0].scrollIntoView();\n      let container = document.getElementById(\"orderContentsContainer\");\n      container.scrollTop = 0;\n    };\n\n    this.cartArrowDown = () => {\n      // document.getElementsByClassName(\"productListed\")[0].scrollIntoView();\n      let container = document.getElementById(\"orderContentsContainer\");\n      container.scrollTop = container.scrollHeight - $(\"#orderContentsContainer\").height();\n    };\n\n    this.state = {\n      orders: [],\n      query: [],\n      productSearch: [],\n      cart: [],\n      searchResults: \"hidden\",\n      dataAvailable: \"noData\",\n      downCount: -1,\n      view: \"initial\",\n      objectType: \"Order\",\n      modal: false\n    };\n    this.newOrder = React.createRef();\n    this.orderid = React.createRef();\n    this.customerid = React.createRef();\n    this.serviceDate = React.createRef();\n    this.service = React.createRef();\n    this.cu = React.createRef();\n    this.pw = React.createRef();\n    this.r = React.createRef();\n    this.lr = React.createRef();\n    this.misc = React.createRef();\n    this.notes = React.createRef(); // search\n\n    this.returnedQuery = React.createRef();\n    this.searchResults = React.createRef();\n    this.searchResult = React.createRef();\n    this.searchInput = React.createRef(); // bound functions\n\n    this.enter = this.enter.bind(this);\n    this.selectContents = this.selectContents.bind(this);\n    this.checkKey = this.checkKey.bind(this);\n    this.searchProduct = this.searchProduct.bind(this);\n    this.showHideModal = this.showHideModal.bind(this);\n  }\n\n  getInitialState() {\n    return {\n      searchResults: \"hidden\"\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.newOrder,\n      id: \"newOrderContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 576,\n        columnNumber: 17\n      }\n    }, global.showHideModal ? /*#__PURE__*/React.createElement(Modal, {\n      closeModal: this.showHideModal,\n      title: \"Edit Cart Product\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 41\n      }\n    }) : null, /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"shown\",\n      id: \"pageTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 578,\n        columnNumber: 17\n      }\n    }, \"New Order (#10001)\"), /*#__PURE__*/React.createElement(\"form\", {\n      autoComplete: \"chrome-off\",\n      action: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 580,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"leftSideContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"appointmentContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formSubHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 17\n      }\n    }, \"APPOINTMENT:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveFormContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 589,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"customerErr\",\n      className: \"errorMessage hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 17\n      }\n    }, \"Please choose a valid customer.\"), /*#__PURE__*/React.createElement(\"input\", {\n      autoFocus: true,\n      onKeyDown: this.checkKey,\n      onChange: this.searchThis,\n      onFocus: this.selectContents,\n      type: \"text\",\n      ref: this.searchInput,\n      name: \"searchInput\",\n      id: \"searchInput\",\n      placeholder: \"Type to Search...\",\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"searchInput\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 17\n      }\n    }, \"Customer\"), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.searchResults,\n      className: this.state.searchResults,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 594,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onMouseOver: this.searchResultsResetClasses,\n      id: \"searchResults\",\n      className: \"searchResults\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 595,\n        columnNumber: 17\n      }\n    }, this.state.query.map(p => /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.searchResult,\n      className: \"customerSearchResult\",\n      key: p.customerid,\n      id: p.customerid,\n      onClick: this.enter,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 598,\n        columnNumber: 25\n      }\n    }, p.returnedQuery))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 607,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      ref: this.customerid,\n      name: \"customerid\",\n      id: \"customerid\",\n      placeholder: \"1\",\n      autoComplete: \"off\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"customerid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609,\n        columnNumber: 21\n      }\n    }, \"Customer ID\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 612,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"serviceDateErr\",\n      className: \"errorMessage hidden\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 613,\n        columnNumber: 21\n      }\n    }, \"Please choose a service date.\"), /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.validateServiceDate,\n      type: \"date\",\n      ref: this.serviceDate,\n      name: \"serviceDate\",\n      id: \"serviceDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 614,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"serviceDate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 615,\n        columnNumber: 21\n      }\n    }, \"Service Date\"))))), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formSubHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 622,\n        columnNumber: 21\n      }\n    }, \"PRODUCTS/SERVICES:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productSearchContainerOuter\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 624,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productSearchSearch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: this.productSearch,\n      autoComplete: \"chrome-off\",\n      onChange: this.searchProduct,\n      id: \"productSearch\",\n      type: \"text\",\n      placeholder: \"Type or Scan Here to Search...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 626,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      title: \"List View\",\n      className: \"productSearchViewType hidden\",\n      id: \"listView\",\n      onClick: this.listView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"listView\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 627,\n        columnNumber: 123\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      title: \"Tile View\",\n      className: \"productSearchViewType\",\n      id: \"tileView\",\n      onClick: this.tileView,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"tileView\",\n      src: tile,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 116\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productSearchResultsRow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 21\n      }\n    }, this.state.productSearch.map(p => /*#__PURE__*/React.createElement(\"div\", {\n      key: p.product_id,\n      onClick: this.addToCart,\n      ref: this.productSearchResult,\n      className: this.state.view,\n      \"data-product_id\": p.product_id,\n      \"data-title\": p.title,\n      \"data-sku\": p.sku,\n      \"data-price\": p.price,\n      \"data-unit_type\": p.unit_type,\n      \"data-qty\": \"1\",\n      \"data-clerk_message\": p.clerk_message,\n      \"data-prompt_price\": p.prompt_price,\n      \"data-prompt_quantity\": p.prompt_quantity,\n      \"data-stock_level\": p.stock_level,\n      \"data-surcharge\": p.surcharge,\n      \"data-surcharge_bool\": p.surcharge_bool,\n      \"data-surcharge_unique\": p.surcharge_unique,\n      \"data-track_stock\": p.track_stock,\n      \"data-out_of_stock\": p.out_of_stock,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 25\n      }\n    }, p.title)))), /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"formSubHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 21\n      }\n    }, \"NOTES:\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"fieldFull\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      rows: \"5\",\n      ref: this.notes,\n      name: \"notes\",\n      id: \"notes\",\n      placeholder: \"Enter a note...\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"rightSideContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderContentsContainerHeader\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 21\n      }\n    }, \"Order Contents\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"orderContentsOuterContainer\",\n      className: \"orderContentsOuterContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.cartArrowUp,\n      className: \"hidden\",\n      id: \"cartUpward\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"arrowUp\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 676,\n        columnNumber: 92\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"orderContentsContainer\",\n      className: \"orderContentsContainer\",\n      onScroll: this.cartArrows,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"emptyCart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 25\n      }\n    }, \"Cart is empty.\"), this.state.cart.map(p => /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.showHideModal,\n      key: p.product_id,\n      className: \"productListed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productListedImageContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedImage\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"product01\",\n      src: \"https://www.zoro.com/static/cms/product/full/Z1sK8uicpEx_.JPG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 685,\n        columnNumber: 62\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productListedInfoContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 687,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productListedInfoLeftSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 689,\n        columnNumber: 25\n      }\n    }, p.title), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedSKU\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 690,\n        columnNumber: 25\n      }\n    }, p.sku)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productListedInfoRightSection\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 692,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: `productListedInfoRightBaseRate ` + `z` + p.surcharge + `hideIfZero`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 694,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedBaseRate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 695,\n        columnNumber: 25\n      }\n    }, \"$\", p.surcharge)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productListedInfoRightSectionTop\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedQuantityIncrement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 25\n      }\n    }, p.unit_type, \": \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedQuantity\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 699,\n        columnNumber: 25\n      }\n    }, p.qty), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedPrice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 25\n      }\n    }, \"$\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedPriceValue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 63\n      }\n    }, p.price)), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedSalePrice\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 25\n      }\n    }, \"$112.80\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productListedInfoRightSectionBottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedlineItemTotal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 25\n      }\n    }, \"$\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"productListedLineItemTotalValue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704,\n        columnNumber: 71\n      }\n    }, p.line_item_total)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"productListedActions\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 707,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-product_id\": p.product_id,\n      onClick: this.deleteProduct,\n      title: \"Delete Product\",\n      className: \"deleteProductContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      \"data-product_id\": p.product_id,\n      className: \"deleteProductButton\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 708,\n        columnNumber: 156\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"span\", {\n      id: \"cartDownwardWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.cartArrowDown,\n      className: \"hidden\",\n      id: \"cartDownward\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 56\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"arrowDown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 715,\n        columnNumber: 127\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderContentsTotal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"orderTotalContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 720,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 721,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 722,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 21\n      }\n    }, \"Subtotal:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 21\n      }\n    }, \"$\", /*#__PURE__*/React.createElement(\"span\", {\n      id: \"orderSubtotal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 724,\n        columnNumber: 26\n      }\n    }))), /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"orderTotalContainerTotal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 734,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 735,\n        columnNumber: 21\n      }\n    }, \"Total:\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 21\n      }\n    }, \"$\", /*#__PURE__*/React.createElement(\"span\", {\n      id: \"orderTotal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 26\n      }\n    }))))))), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"saveOrder green\",\n      type: \"button\",\n      onClick: this.validateForm,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 743,\n        columnNumber: 21\n      }\n    }, \"Save \", this.state.objectType)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveFormContainer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"responsiveForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 748,\n        columnNumber: 17\n      }\n    }))));\n  }\n\n}\n\nexport default NewOrder;","map":{"version":3,"sources":["C:/Users/Derek/Documents/GitHub/sake/client-react/src/components/orders/NewOrder2.js"],"names":["React","axios","$","Modal","NewOrder","Component","constructor","props","hideResults","setState","showResults","selectContents","e","target","select","showHideModal","global","product","product_id","dataset","title","sku","price","unit_type","toUpperCase","qty","clerk_message","prompt_price","prompt_quantity","stock_level","surcharge","surcharge_bool","surcharge_unique","track_stock","out_of_stock","line_item_total","modal","setTimeout","console","log","componentDidMount","inputs","document","getElementsByTagName","i","length","setAttribute","posViewType","searchProduct","getTotals","searchThis","validateCustomer","searchInput","current","value","customerid","url","post","search","then","response","getSearchData","productSearchInputValue","getElementById","put","productSearchInput","posView","state","view","getProductSearchData","addToCart","event","cartArrows","inCart","cart","cartArray","matches","filter","a","substring","indexOf","push","wrapper","style","opacity","objDiv","scrollTop","scrollHeight","clearTimeout","arrowOpacity","emptyCart","formatCurrency","get","productSearch","data","listView","tileView","searchResultsResetClasses","childNodes","className","checkKey","bind","keyCode","preventDefault","limitHigh","childElementCount","limitLow","myCount","downCount","click","query","enter","innerHTML","id","addOrder","serviceDate","service","cu","pw","r","lr","misc","notes","history","validateForm","validateServiceDate","customeridErr","serviceDateErr","products","getElementsByClassName","container","gatherTotals","someClass","someTarget","arr","subtotal","parseInt","subtotalLeft","toString","substr","subtotalRight","orderSubtotal","grandTotal","total","cartCount","deleteProduct","filteredArray","cartDownward","bottom","editProduct","top","cartUpward","animation","height","cartArrowUp","cartArrowDown","orders","searchResults","dataAvailable","objectType","newOrder","createRef","orderid","returnedQuery","searchResult","getInitialState","render","map","p","tile","productSearchResult"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport $ from 'jquery'; \r\nimport Modal from \"../app/Modal\";\r\n\r\nclass NewOrder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            orders: [],\r\n            query: [],\r\n            productSearch: [],\r\n            cart: [],\r\n            searchResults: \"hidden\",\r\n            dataAvailable: \"noData\",\r\n            downCount: -1,\r\n            view: \"initial\",\r\n            objectType: \"Order\",\r\n            modal: false\r\n        };\r\n        this.newOrder = React.createRef();\r\n        this.orderid = React.createRef();\r\n        this.customerid = React.createRef();\r\n        this.serviceDate = React.createRef();\r\n        this.service = React.createRef();\r\n        this.cu = React.createRef();\r\n        this.pw = React.createRef();\r\n        this.r = React.createRef();\r\n        this.lr = React.createRef();\r\n        this.misc = React.createRef();\r\n        this.notes = React.createRef();\r\n        \r\n        // search\r\n        this.returnedQuery = React.createRef();       \r\n        this.searchResults = React.createRef();       \r\n        this.searchResult = React.createRef();       \r\n        this.searchInput = React.createRef();\r\n        \r\n        // bound functions\r\n        this.enter = this.enter.bind(this);\r\n        this.selectContents = this.selectContents.bind(this);\r\n        this.checkKey = this.checkKey.bind(this);\r\n        this.searchProduct = this.searchProduct.bind(this);\r\n        this.showHideModal = this.showHideModal.bind(this);\r\n    }\r\n    \r\n    getInitialState(){\r\n        return {searchResults:\"hidden\"};\r\n    };\r\n    \r\n    hideResults = () => {\r\n        this.setState({\"searchResults\":\"hidden\"});\r\n    }\r\n    \r\n    showResults = () => {\r\n        this.setState({\"searchResults\":\"show\"});\r\n    }\r\n    \r\n    selectContents = (e) => {\r\n        e.target.select();\r\n    }\r\n        \r\n    showHideModal = (e) => {\r\n        if(global.showHideModal === true) {\r\n            global.showHideModal = false;\r\n        } else if(global.showHideModal === false) {\r\n            global.showHideModal = true;\r\n        }\r\n\r\n        let product = {\r\n           product_id: e.target.dataset.product_id,\r\n           title: e.target.dataset.title,\r\n           sku: e.target.dataset.sku,\r\n           price: e.target.dataset.price,\r\n           unit_type: e.target.dataset.unit_type.toUpperCase(),\r\n           qty: e.target.dataset.qty,\r\n           clerk_message: e.target.dataset.clerk_message,\r\n           prompt_price: e.target.dataset.prompt_price,\r\n           prompt_quantity: e.target.dataset.prompt_quantity,\r\n           stock_level: e.target.dataset.stock_level,\r\n           surcharge: e.target.dataset.surcharge,\r\n           surcharge_bool: e.target.dataset.surcharge_bool,\r\n           surcharge_unique: e.target.dataset.surcharge_unique,\r\n           track_stock: e.target.dataset.track_stock,\r\n           out_of_stock: e.target.dataset.out_of_stock,\r\n           line_item_total: (e.target.dataset.price * e.target.dataset.qty)\r\n        }\r\n\r\n        this.setState({\r\n            modal: global.showHideModal\r\n        },\r\n        function() {\r\n            setTimeout(() => {\r\n                // console.log(\"1 second passed\")\r\n                // console.log(\"variable: \" + global.showHideModal);\r\n                // console.log(\"state: \" + this.state.modal);\r\n                console.log(product);\r\n            }, 1000)\r\n        })\r\n\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        global.showHideModal = false;\r\n\r\n        let inputs = document.getElementsByTagName(\"input\");\r\n        for ( var i = 0; i < inputs.length; i++ ) {\r\n            inputs[i].setAttribute(\"autocomplete\",\"off\");\r\n        }\r\n\r\n        this.posViewType();\r\n        this.searchProduct();\r\n        this.getTotals();\r\n    }\r\n        \r\n    searchThis = () => {\r\n        this.validateCustomer();\r\n        if(this.searchInput.current.value === '') {\r\n            this.hideResults();\r\n            this.customerid.current.value = '';\r\n            this.validateCustomer();\r\n        } else {\r\n            this.showResults();\r\n            let url = \"/customersearchinput\";\r\n            axios.post(url, { \r\n                search: this.searchInput.current.value,            \r\n            }).then(response => {\r\n                this.getSearchData();\r\n            });\r\n            this.validateCustomer();\r\n            this.customerid.current.value = '';\r\n        }\r\n    };\r\n    \r\n    searchProduct = () => {\r\n        let productSearchInputValue = document.getElementById(\"productSearch\");\r\n        let url = \"/params/666\";\r\n        axios.put(url, { \r\n            // session_id: 666,\r\n            // user: document.getElementById(\"username\").value,\r\n            // password: document.getElementById(\"password\").value,\r\n            productSearchInput: productSearchInputValue.value,\r\n            // logged_in: true,\r\n            posView: this.state.view\r\n        })\r\n        this.getProductSearchData();\r\n    }\r\n    \r\n    addToCart = (event) => {\r\n        this.cartArrows();\r\n        let inCart = this.state.cart;\r\n        let cartArray = {\r\n            product_id: event.target.dataset.product_id,\r\n            title: event.target.dataset.title,\r\n            sku: event.target.dataset.sku,\r\n            price: event.target.dataset.price,\r\n            unit_type: event.target.dataset.unit_type.toUpperCase(),\r\n            qty: event.target.dataset.qty,\r\n            clerk_message: event.target.dataset.clerk_message,\r\n            prompt_price: event.target.dataset.prompt_price,\r\n            prompt_quantity: event.target.dataset.prompt_quantity,\r\n            stock_level: event.target.dataset.stock_level,\r\n            surcharge: event.target.dataset.surcharge,\r\n            surcharge_bool: event.target.dataset.surcharge_bool,\r\n            surcharge_unique: event.target.dataset.surcharge_unique,\r\n            track_stock: event.target.dataset.track_stock,\r\n            out_of_stock: event.target.dataset.out_of_stock,\r\n            line_item_total: (event.target.dataset.price * event.target.dataset.qty)\r\n        };\r\n        // I don't know how this works :) \r\n        let matches = inCart.filter(function(a){return (a.product_id === cartArray.product_id || a.product_id.substring(0, a.product_id.indexOf(\"-\")) === cartArray.product_id)}).length;\r\n        if( matches < 10 ) {\r\n            matches = \"0\" + matches;\r\n        }\r\n        for ( var i = 0; i < inCart.length; i++ ) {\r\n            if( inCart[i].product_id === cartArray.product_id ) {\r\n                cartArray.product_id = cartArray.product_id + \"-\" + matches;\r\n            }\r\n        }\r\n        inCart.push(cartArray);\r\n        let wrapper = document.getElementById(\"cartDownwardWrapper\");\r\n        wrapper.style.opacity = \"0\";\r\n        this.setState({\r\n            cart: inCart\r\n        }, function() {\r\n            setTimeout(() => {\r\n                this.getTotals();\r\n                var objDiv = document.getElementById(\"orderContentsContainer\");\r\n                objDiv.scrollTop = objDiv.scrollHeight;\r\n                clearTimeout(global.arrowOpacity);\r\n                global.arrowOpacity = setTimeout(() => {\r\n                    wrapper.style.opacity = \"1\";\r\n                }, 500)\r\n            }, 10)\r\n            this.emptyCart();\r\n            this.formatCurrency(\"productListedPriceValue\");\r\n        })\r\n    }\r\n\r\n    getProductSearchData = () => {\r\n        let url = \"/productsearch\";\r\n        axios.get(url).then(response => this.setState({ productSearch: response.data }));\r\n    };\r\n\r\n    posViewType = () => {\r\n        let url = \"/params/666\";\r\n        axios.get(url).then(response => this.setState({ view: response.data.posView },));\r\n        setTimeout(() => {\r\n            this.getProductSearchData();\r\n            if( this.state.view === \"returnedProduct row\" ) {\r\n                this.listView();\r\n            } else\r\n            if( this.state.view === \"returnedProduct tile\" ) {\r\n                this.tileView();\r\n            }\r\n            if( this.state.view === null || this.state.view === \"initial\" ) {\r\n                this.listView();\r\n            }\r\n        }, 200);\r\n    }\r\n\r\n    searchResultsResetClasses = () => {\r\n        for(var i = 0; i < document.getElementById(\"searchResults\").childNodes.length; i++) {\r\n            document.getElementById(\"searchResults\").childNodes[i].className = \"customerSearchResult\";           \r\n        }\r\n    }\r\n    \r\n    checkKey = (e) => {\r\n        $('input').bind('keydown', function(e){\r\n            if(e.keyCode === 38 || e.keyCode === 40){\r\n                e.preventDefault();\r\n            }\r\n        });\r\n        var limitHigh = document.getElementById(\"searchResults\").childElementCount;\r\n        var limitLow = 0;\r\n        var myCount = this.state.downCount;\r\n        if(myCount < limitLow) {\r\n            myCount = -1;\r\n        } \r\n        if(myCount >= limitHigh) {\r\n            myCount = limitHigh;\r\n        } \r\n        // 65-90 are a-z ;; space is 32 ;; 48-57 are numbers ;;  189 is hypen\r\n        if(myCount <= limitHigh - 1 && myCount >= limitLow && limitHigh > 0) {\r\n            document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";           \r\n        }\r\n        if (e.keyCode === 40) {\r\n            // down arrow\r\n            myCount = myCount + 1;\r\n            if(myCount <= limitLow) {\r\n                myCount = 0;\r\n            } \r\n            if(myCount >= limitHigh - 1) {\r\n                myCount = limitHigh - 1;\r\n            } \r\n            if(myCount > limitLow) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount < limitHigh - 1) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";           \r\n            }       \r\n            this.setState({\r\n                downCount: myCount\r\n            })\r\n        } else if (e.keyCode === 38) {\r\n            // up arrow\r\n            myCount = myCount - 1;\r\n            if(myCount <= limitLow) {\r\n                myCount = 0;\r\n            } \r\n            if(myCount >= limitHigh) {\r\n                myCount = limitHigh;\r\n            } \r\n            if(myCount !== limitLow) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount - 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount < limitHigh - 1) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount + 1].className = \"customerSearchResult\";           \r\n            }\r\n            if(myCount <= limitHigh && myCount >= limitLow && limitHigh > 0) {\r\n                document.getElementById(\"searchResults\").childNodes[myCount].className = \"customerSearchResultActive\";           \r\n            }\r\n            this.setState({\r\n                downCount: myCount\r\n            })       \r\n        } else if (e.keyCode === 13) {\r\n            // enter\r\n            if(myCount < limitLow) {\r\n                myCount = 0;\r\n            } \r\n            if(myCount >= limitHigh) {\r\n                myCount = limitHigh - 1;\r\n            } \r\n            document.getElementById(\"searchResults\").childNodes[myCount].click();           \r\n        }\r\n    }\r\n    \r\n    getSearchData = () => {\r\n        let url = \"/customersearch\";\r\n        axios.get(url).then(response => this.setState({ query: response.data }));\r\n    };\r\n    \r\n    enter = (e) => {\r\n        this.searchInput.current.value = e.target.innerHTML;\r\n        this.customerid.current.value = e.target.id;\r\n        this.validateCustomer();\r\n        this.hideResults();\r\n    };\r\n    \r\n    addOrder = () => {\r\n        // submit ORDER totals/details to ORDERS table\r\n\r\n        // submit each PRODUCT & ORDER ID to the orders products table\r\n\r\n        // then refresh page to begin a new order\r\n\r\n        let url = \"/order\";\r\n        axios.post(url, { \r\n            customerid: this.customerid.current.value,\r\n            serviceDate: this.serviceDate.current.value,\r\n            service: this.service.current.value,\r\n            cu: this.cu.current.value,\r\n            pw: this.pw.current.value,\r\n            r: this.r.current.value,\r\n            lr: this.lr.current.value,\r\n            misc: this.misc.current.value,\r\n            notes: this.notes.current.value,     \r\n        }).then(response => {            \r\n            this.props.history.push('/orders');\r\n        });\r\n    };\r\n    validateForm = () => {\r\n        this.validateCustomer();\r\n        this.validateServiceDate();\r\n        let customerid = document.getElementById(\"customerid\");\r\n        let serviceDate = document.getElementById(\"serviceDate\");\r\n        if(\r\n            customerid.value === \"\" ||\r\n            serviceDate.value === \"\"\r\n            ) {} else {\r\n                this.addOrder();\r\n            }            \r\n        }\r\n        validateCustomer = () => {\r\n            let customerid = document.getElementById(\"customerid\");\r\n            let searchInput = document.getElementById(\"searchInput\");\r\n            let customeridErr = document.getElementById(\"customerErr\");\r\n            if(customerid.value === \"\") {\r\n                customeridErr.className = \"errorMessage\";\r\n                searchInput.className = \"formValidate\";\r\n            } else {\r\n                customeridErr.className = \"errorMessage hidden\";\r\n                searchInput.className = \"\";\r\n            }\r\n        } \r\n/*         calculateLove = () => {\r\n            // number of times I think of you\r\n            let thoughtCount = document.getElementsByClassName(\"thought\");\r\n\r\n            // all the currency $ in the world\r\n            let worldCurrency = document.getElementById(\"currency\");\r\n            \r\n            // if I had an eighth of a penny for each time I thought of you\r\n            if ( thoughtCount.length > worldCurrency * 8 * 100 ) {\r\n                return true;\r\n            }\r\n        } */\r\n        validateServiceDate = () => {\r\n            let serviceDate = document.getElementById(\"serviceDate\");\r\n            let serviceDateErr = document.getElementById(\"serviceDateErr\");\r\n            if(serviceDate.value === \"\") {\r\n                serviceDateErr.className = \"errorMessage\";\r\n                serviceDate.className = \"formValidate\";\r\n            } else {\r\n                serviceDateErr.className = \"errorMessage hidden\";\r\n                serviceDate.className = \"\";\r\n            }\r\n        }\r\n        listView = () => {\r\n            // let productSearchInputValue = document.getElementById(\"productSearch\");\r\n            let products = document.getElementsByClassName(\"returnedProduct\");\r\n            let container = document.getElementsByClassName(\"productSearchResultsTile\");\r\n            for ( var i = 0; i < products.length; i++ ) {\r\n                products[i].className = \"returnedProduct row\"\r\n            }\r\n            for ( var a = 0; a < container.length; a++ ) {\r\n                container[a].className = \"productSearchResultsRow\"\r\n            }\r\n            document.getElementById(\"listView\").className = \"productSearchViewType hidden\";\r\n            document.getElementById(\"tileView\").className = \"productSearchViewType\";\r\n            this.setState({\r\n                view: \"returnedProduct row\"\r\n            })\r\n            let url = \"/params/666\";\r\n            axios.put(url, { \r\n                // session_id: 666,\r\n                // user: document.getElementById(\"username\").value,\r\n                // password: document.getElementById(\"password\").value,\r\n                // productSearchInput: productSearchInputValue.value,\r\n                posView: \"returnedProduct row\"\r\n                // logged_in: true\r\n            })\r\n        }\r\n        tileView = () => {\r\n            // let productSearchInputValue = document.getElementById(\"productSearch\");\r\n            let products = document.getElementsByClassName(\"returnedProduct\");\r\n            let container = document.getElementsByClassName(\"productSearchResultsRow\");\r\n            for ( var i = 0; i < products.length; i++ ) {\r\n                products[i].className = \"returnedProduct tile\"\r\n            }\r\n            for ( var a = 0; a < container.length; a++ ) {\r\n                container[a].className = \"productSearchResultsTile\"\r\n            }\r\n            document.getElementById(\"tileView\").className = \"productSearchViewType hidden\";\r\n            document.getElementById(\"listView\").className = \"productSearchViewType\";\r\n            this.setState({\r\n                view: \"returnedProduct tile\"\r\n            })\r\n            let url = \"/params/666\";\r\n            axios.put(url, {\r\n                // session_id: 666,\r\n                // user: document.getElementById(\"username\").value,\r\n                // password: document.getElementById(\"password\").value,\r\n                // productSearchInput: productSearchInputValue.value,\r\n                posView: \"returnedProduct tile\"\r\n                // logged_in: true\r\n            })\r\n        }\r\n        gatherTotals = (someClass, someTarget) => {\r\n            let arr = document.getElementsByClassName(someClass);\r\n            let subtotal = 0;\r\n            for (var i = 0; i < arr.length; i++) {\r\n                subtotal += parseInt(arr[i].innerHTML * 100);\r\n                // console.log(parseInt(totals[i].innerHTML));\r\n            }\r\n            // subtotal = subtotal * 100;\r\n            // console.log(subtotal);\r\n            if(subtotal !== 0) {\r\n                let subtotalLeft = subtotal.toString().substr(0,subtotal.toString().length - 2);\r\n                let subtotalRight = subtotal.toString().substr(subtotalLeft.length, 2);\r\n                // console.log(subtotalLeft + \".\" + subtotalRight);\r\n                subtotal = subtotalLeft + \".\" + subtotalRight;\r\n            } else if (subtotal === 0) {\r\n                subtotal = \"0.00\"\r\n            }\r\n            let orderSubtotal = document.getElementById(someTarget);\r\n            orderSubtotal.innerHTML = subtotal;\r\n        }\r\n        grandTotal = () => {\r\n            let total = document.getElementById(\"orderTotal\");\r\n            let subtotal = document.getElementById(\"orderSubtotal\");\r\n            total.innerHTML = subtotal.innerHTML;\r\n        }\r\n        formatCurrency = (someClass) => {\r\n            let arr = document.getElementsByClassName(someClass);\r\n            for (var i = 0; i < arr.length; i++) {\r\n                arr[i].innerHTML = parseInt(arr[i].innerHTML * 100);\r\n                // console.log(parseInt(totals[i].innerHTML));\r\n                if(arr[i].innerHTML !== \"0\") {\r\n                    // console.log(\"doesn't equal zero\");\r\n                    let subtotalLeft = arr[i].innerHTML.toString().substr(0,arr[i].innerHTML.toString().length - 2);\r\n                    let subtotalRight = arr[i].innerHTML.toString().substr(subtotalLeft.length, 2);\r\n                    // console.log(subtotalLeft + \".\" + subtotalRight);\r\n                    arr[i].innerHTML = subtotalLeft + \".\" + subtotalRight;\r\n                } else if (arr[i].innerHTML === \"0\") {\r\n                    // console.log(\"DOES equal zero\");\r\n                    arr[i].innerHTML = \"0.00\"\r\n                }\r\n            }\r\n        }\r\n        getTotals = () => {\r\n            this.gatherTotals(\"productListedLineItemTotalValue\", \"orderSubtotal\");\r\n            this.grandTotal();\r\n        }\r\n        emptyCart = () => {\r\n            let emptyCart = document.getElementById(\"emptyCart\");\r\n            let cartCount = this.state.cart.length;\r\n            // console.log(cartCount);\r\n            if(cartCount === 0) {\r\n                emptyCart.className = \"\";\r\n            } else {\r\n                emptyCart.className = \"hidden\";\r\n            }\r\n        }\r\n\r\n        deleteProduct = (event) => {\r\n            // remove this product from the cart array\r\n            // console.log(this.state.cart);\r\n            // console.log(event.target.dataset.product_id);\r\n            let inCart = this.state.cart;\r\n            let filteredArray = inCart.filter(function(a){return (a.product_id !== event.target.dataset.product_id)});\r\n            let wrapper = document.getElementById(\"cartDownwardWrapper\");\r\n            let cartDownward = document.getElementById(\"cartDownward\");\r\n            this.setState({\r\n                cart: filteredArray\r\n            }, function(){\r\n                setTimeout(() => {\r\n                    this.emptyCart();\r\n                    if(cartDownward.style.bottom === \"-66px\") {\r\n                        wrapper.style.opacity = \"0\";\r\n                        setTimeout(() => {\r\n                            wrapper.style.opacity = \"1\";\r\n                            // console.log(\"my sexy hotdog fingers\")\r\n                        },500)\r\n                    }\r\n                },5)\r\n                this.showHideModal();\r\n                this.cartArrows();\r\n            })\r\n        }\r\n\r\n        editProduct = (event) => {\r\n            // pop modal\r\n            // populate with product data\r\n            // then update existing product in cart\r\n        }\r\n\r\n        cartArrows = () => {\r\n            let top = document.getElementsByClassName(\"orderContentsContainer\")[0];\r\n            // let container = document.getElementsByClassName(\"orderContentsOuterContainer\")[0];\r\n            let cartUpward = document.getElementById(\"cartUpward\");\r\n            let cartDownward = document.getElementById(\"cartDownward\");\r\n\r\n            if(top.scrollTop > 0) {\r\n                // arrow appear\r\n                cartUpward.className = \"\";\r\n                cartUpward.style.animation = \"cartUpwardIn 0.2s linear\";\r\n                cartUpward.style.top = \"-33px\";\r\n            }\r\n            if(top.scrollTop === 0) {\r\n                // arrow disappear\r\n                cartUpward.style.animation = \"cartUpwardOut 0.2s linear\";\r\n                cartUpward.style.top = \"-66px\";\r\n                // cartUpward.className = \"hidden\";\r\n            }\r\n            if(top.scrollTop !== top.scrollHeight) {\r\n                cartDownward.className = \"\";\r\n                cartDownward.style.animation = \"cartDownwardIn 0.2s linear\";\r\n                cartDownward.style.bottom = \"-33px\";\r\n            }\r\n            if(top.scrollTop >= (top.scrollHeight - $(\"#orderContentsContainer\").height())) {\r\n                // arrow disappear\r\n                cartDownward.style.animation = \"cartDownwardOut 0.2s linear\";\r\n                cartDownward.style.bottom = \"-66px\";\r\n                // cartUpward.className = \"hidden\";\r\n            }\r\n            /* console.log(top.scrollHeight);\r\n            console.log($(\"#orderContentsContainer\").height()); */\r\n            if($(\"#orderContentsContainer\").height() >= top.scrollHeight) {\r\n                cartUpward.className = \"hidden\";\r\n                cartDownward.className = \"hidden\";\r\n                /* console.log(\"no scroll boy\"); */\r\n            }\r\n            // console.log(\"top scrollTop: \" + top.scrollTop);\r\n            // console.log(\"container height: \" + $(\"#orderContentsContainer\").height());\r\n            // console.log(\"top scrollHeight: \" + top.scrollHeight);\r\n        }\r\n\r\n        cartArrowUp = () => {\r\n            // document.getElementsByClassName(\"productListed\")[0].scrollIntoView();\r\n            let container = document.getElementById(\"orderContentsContainer\");\r\n            container.scrollTop = 0;\r\n        }\r\n        \r\n        cartArrowDown = () => {\r\n            // document.getElementsByClassName(\"productListed\")[0].scrollIntoView();\r\n            let container = document.getElementById(\"orderContentsContainer\");\r\n            container.scrollTop = container.scrollHeight - $(\"#orderContentsContainer\").height();\r\n        }\r\n\r\n        render() {\r\n            return (\r\n                <div ref={this.newOrder} id=\"newOrderContainer\">\r\n                {global.showHideModal ? <Modal closeModal={this.showHideModal} title=\"Edit Cart Product\" /> : null}\r\n                <h3 className=\"shown\" id=\"pageTitle\">New Order (#10001)</h3>\r\n                \r\n                <form autoComplete=\"chrome-off\" action=\"\">\r\n                \r\n                <div id=\"leftSideContainer\">\r\n                <div id=\"appointmentContainer\">\r\n                <h4 className=\"formSubHeader\">APPOINTMENT:</h4>\r\n                \r\n                <div className=\"responsiveFormContainer\">\r\n                <div className=\"responsiveForm\">\r\n                \r\n                <div className=\"field\">\r\n                <div id=\"customerErr\" className=\"errorMessage hidden\">Please choose a valid customer.</div>\r\n                <input autoFocus onKeyDown={this.checkKey} onChange={this.searchThis} onFocus={this.selectContents} type=\"text\" ref={this.searchInput} name=\"searchInput\" id=\"searchInput\" placeholder=\"Type to Search...\" autoComplete=\"off\" />\r\n                <label htmlFor=\"searchInput\">Customer</label>\r\n                \r\n                <div ref={this.searchResults} className={this.state.searchResults}>\r\n                <div onMouseOver={this.searchResultsResetClasses} id=\"searchResults\" className=\"searchResults\">\r\n                {this.state.query.map(\r\n                    p => (\r\n                        <div ref={this.searchResult} className=\"customerSearchResult\" key={p.customerid} id={p.customerid} onClick={this.enter} >{p.returnedQuery}\r\n                        </div>\r\n                        ))\r\n                    }\r\n                    </div>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    \r\n                    <div className=\"field hidden\">\r\n                    <input type=\"number\" ref={this.customerid} name=\"customerid\" id=\"customerid\" placeholder=\"1\" autoComplete=\"off\" />\r\n                    <label htmlFor=\"customerid\">Customer ID</label>\r\n                    </div>                  \r\n                    \r\n                    <div className=\"field\">\r\n                    <div id=\"serviceDateErr\" className=\"errorMessage hidden\">Please choose a service date.</div>\r\n                    <input onChange={this.validateServiceDate} type=\"date\" ref={this.serviceDate} name=\"serviceDate\" id=\"serviceDate\" />\r\n                    <label htmlFor=\"serviceDate\">Service Date</label>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    </div>\r\n                    </div>\r\n                    \r\n                    <h4 className=\"formSubHeader\">PRODUCTS/SERVICES:</h4>\r\n                    \r\n                    <div className=\"productSearchContainerOuter\">\r\n                    <div className=\"productSearchSearch\">\r\n                    <input ref={this.productSearch} autoComplete=\"chrome-off\" onChange={this.searchProduct} id=\"productSearch\" type=\"text\" placeholder=\"Type or Scan Here to Search...\" />\r\n                    <div title=\"List View\" className=\"productSearchViewType hidden\" id=\"listView\" onClick={this.listView}><img alt=\"listView\" /></div>\r\n                    <div title=\"Tile View\" className=\"productSearchViewType\" id=\"tileView\" onClick={this.tileView}><img alt=\"tileView\" src={tile} /></div>\r\n                    </div>\r\n                    <div className=\"productSearchResultsRow\">\r\n                    {this.state.productSearch.map(\r\n                    p => (\r\n                        <div key={p.product_id} \r\n                        onClick={this.addToCart} \r\n                        ref={this.productSearchResult} \r\n                        className={this.state.view} \r\n                        data-product_id={p.product_id} \r\n                        data-title={p.title} \r\n                        data-sku={p.sku} \r\n                        data-price={p.price}\r\n                        data-unit_type={p.unit_type} \r\n                        data-qty=\"1\"\r\n                        data-clerk_message={p.clerk_message} \r\n                        data-prompt_price={p.prompt_price} \r\n                        data-prompt_quantity={p.prompt_quantity} \r\n                        data-stock_level={p.stock_level} \r\n                        data-surcharge={p.surcharge} \r\n                        data-surcharge_bool={p.surcharge_bool} \r\n                        data-surcharge_unique={p.surcharge_unique} \r\n                        data-track_stock={p.track_stock} \r\n                        data-out_of_stock={p.out_of_stock} \r\n                        >\r\n                            {p.title}\r\n                        </div>\r\n                        ))\r\n                    }\r\n{/*                     <div className={this.state.view}>returned product</div>\r\n                    <div className={this.state.view}>returned product</div>\r\n                    <div className={this.state.view}>returned product</div>\r\n                    <div className={this.state.view}>returned product</div> */}\r\n                    </div>\r\n                    </div>\r\n                    \r\n                    <h4 className=\"formSubHeader\">NOTES:</h4>\r\n                    \r\n                    <div className=\"fieldFull\">\r\n                    <textarea rows=\"5\" ref={this.notes} name=\"notes\" id=\"notes\" placeholder=\"Enter a note...\"></textarea>\r\n                    </div>\r\n                    \r\n                    </div>\r\n                    \r\n                    <div id=\"rightSideContainer\">\r\n                    \r\n                    <div className=\"orderContentsContainerHeader\">Order Contents</div>\r\n                    <div id=\"orderContentsOuterContainer\" className=\"orderContentsOuterContainer\">\r\n                        <div onClick={this.cartArrowUp} className=\"hidden\" id=\"cartUpward\"><span className=\"arrowUp\"></span></div>\r\n                        <div id=\"orderContentsContainer\" className=\"orderContentsContainer\" onScroll={this.cartArrows}>\r\n                        \r\n                        <div id=\"emptyCart\">Cart is empty.</div>\r\n                        \r\n                        {this.state.cart.map(\r\n                        p => (\r\n                        <div onClick={this.showHideModal} key={p.product_id} className=\"productListed\">\r\n                        <div className=\"productListedImageContainer\">\r\n                        <span className=\"productListedImage\"><img alt=\"product01\" src=\"https://www.zoro.com/static/cms/product/full/Z1sK8uicpEx_.JPG\" /></span>\r\n                        </div>\r\n                        <div className=\"productListedInfoContainer\">\r\n                        <div className=\"productListedInfoLeftSection\">\r\n                        <span className=\"productListedTitle\">{p.title}</span>\r\n                        <span className=\"productListedSKU\">{p.sku}</span>\r\n                        </div>\r\n                        <div className=\"productListedInfoRightSection\">\r\n                            {/* eslint-disable-next-line */}\r\n                        <div className={`productListedInfoRightBaseRate ` + `z` + p.surcharge + `hideIfZero`}>\r\n                        <span className=\"productListedBaseRate\">${p.surcharge}</span>\r\n                        </div>\r\n                        <div className=\"productListedInfoRightSectionTop\">\r\n                        <span className=\"productListedQuantityIncrement\">{p.unit_type}: </span>\r\n                        <span className=\"productListedQuantity\">{p.qty}</span>\r\n                        <span className=\"productListedPrice\">$<span className=\"productListedPriceValue\">{p.price}</span></span>\r\n                        <span className=\"productListedSalePrice\">$112.80</span>\r\n                        </div>\r\n                        <div className=\"productListedInfoRightSectionBottom\">\r\n                        <span className=\"productListedlineItemTotal\">$<span className=\"productListedLineItemTotalValue\">{p.line_item_total}</span></span>\r\n                        </div>\r\n                        </div>\r\n                            <div className=\"productListedActions\">\r\n                                <div data-product_id={p.product_id} onClick={this.deleteProduct} title=\"Delete Product\" className=\"deleteProductContainer\"><span data-product_id={p.product_id} className=\"deleteProductButton\"></span></div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                            ))\r\n                        }\r\n                        </div>\r\n                        <span id=\"cartDownwardWrapper\"><div onClick={this.cartArrowDown} className=\"hidden\" id=\"cartDownward\"><span className=\"arrowDown\"></span></div></span>                  \r\n                    </div>\r\n                    \r\n                    <div className=\"orderContentsTotal\">\r\n                    <div className=\"orderTotalContainer\">\r\n                    <table>\r\n                    <tbody>\r\n                    <tr>\r\n                    <td>Subtotal:</td>\r\n                    <td>$<span id=\"orderSubtotal\"></span></td>\r\n                    </tr>\r\n{/*                     <tr>\r\n                    <td>Tax:</td>\r\n                    <td>$10.00</td>\r\n                    </tr>\r\n                    <tr>\r\n                    <td>Discount:</td>\r\n                    <td>$5.00</td>\r\n                    </tr> */}\r\n                    <tr className=\"orderTotalContainerTotal\">\r\n                    <td>Total:</td>\r\n                    <td>$<span id=\"orderTotal\"></span></td>\r\n                    </tr>\r\n                    </tbody>\r\n                    </table>\r\n                    </div>\r\n                    </div>\r\n                    \r\n                    <button className=\"saveOrder green\" type=\"button\" onClick={this.validateForm}>Save {this.state.objectType}</button>\r\n\r\n                    </div>   \r\n                \r\n                <div className=\"responsiveFormContainer\">\r\n                <div className=\"responsiveForm\">\r\n            \r\n            </div>\r\n            </div>           \r\n            \r\n            </form>\r\n            </div>\r\n            );\r\n        }\r\n    }\r\n    \r\n    export default NewOrder;\r\n    "]},"metadata":{},"sourceType":"module"}